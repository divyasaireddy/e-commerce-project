<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Trendz</title>
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
    <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSqWh8YkCDAQloJQYCTk20em1YyC2-rWqXs2Q&s">
    <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
/>

    
</head>

<body>
    <div class="container">
        <img src="./images/signUpPageImage.jpg" alt="Image" width="600px">

        <form action="" id="login">
            <h1>Fashion <span class="trendz">Trendz</span></h1>

            <span>USERNAME</span>
            <input type="text" name="" id="username" placeholder="Username" required>
            <span id="usernameError"></span>

            <span>PASSWORD</span>
            <input type="password" name="" id="password" placeholder="Password" required>
            <span id="passwordError"></span>

            <input type="submit" value="Login">

            <a href="signup.html">New to Fashion Trendz? Create an account</a>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- 
    <script>
        document.getElementById("login").addEventListener("submit", (event) => {
            event.preventDefault();
        
            const storedUserName = localStorage.getItem("name"); // User input saved in local storage
            const storedPassword = localStorage.getItem("password");
        
            const enteredUserName = document.getElementById("username").value.trim();
            const enteredPassword = document.getElementById("password").value.trim();
        
            // Clear previous error messages
            document.getElementById("usernameError").textContent = "";
            document.getElementById("passwordError").textContent = "";
        
            if (enteredUserName !== storedUserName) {
                document.getElementById("usernameError").textContent = "User not found. Please register first.";
            } else if (enteredPassword !== storedPassword) {
                document.getElementById("passwordError").textContent = "Incorrect password. Please try again.";
            } else {
                // SweetAlert for successful login
                Swal.fire({
                    title: "Success!",
                    text: "Logged in successfully!",
                    icon: "success",
                    confirmButtonText: "OK"
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Redirect after confirmation
                        window.location.href = "main.html";
                    }
                });
            }
        });
        
    </script> -->

    <script>
        document.getElementById("login").addEventListener("submit", (event) => {
            event.preventDefault();

            // Retrieve stored username and password
            const storedUserName = localStorage.getItem("name");
            const storedPassword = localStorage.getItem("password");

            // Get user input
            const enteredUserName = document.getElementById("username").value.trim();
            const enteredPassword = document.getElementById("password").value.trim();

            // Clear previous error messages
            document.getElementById("usernameError").textContent = "";
            document.getElementById("passwordError").textContent = "";

            // SweetAlert2 for feedback messages
            if (!storedUserName || enteredUserName !== storedUserName) {
                Swal.fire({
                    title: "User Not Found",
                    text: "Please register first to access your account.",
                    icon: "warning",
                    showClass: {
                        popup: 'animate__animated animate__fadeInDown animate__slow'
                    },
                    hideClass: {
                        popup: 'animate__animated animate__fadeOutUp animate__slow'
                    },
                    // Preventing page content from shifting
                    position: 'fixed',
                    backdrop: false,
                    allowOutsideClick: true
                });
            } else if (enteredPassword !== storedPassword) {
                Swal.fire({
                    title: "Incorrect Password",
                    text: "The password you entered is incorrect. Please try again.",
                    icon: "error",
                    showClass: {
                        popup: 'animate__animated animate__shakeX animate__slow'
                    },
                    hideClass: {
                        popup: 'animate__animated animate__fadeOutUp animate__slow'
                    }, 
                    position: 'fixed',
                    backdrop: false,
                    allowOutsideClick: true
                });
            } else {
                Swal.fire({
                    title: "Login Successful!",
                    text: "Welcome back!",
                    icon: "success",
                    showClass: {
                        popup: 'animate__animated animate__zoomIn animate__fast'
                    },
                    hideClass: {
                        popup: 'animate__animated animate__zoomOut animate__fast'
                    },
                    position: 'fixed',
                    backdrop: false,
                    allowOutsideClick: true
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = "main.html";
                    }
                });
            }
        });
            
    </script>


</body>

</html>

